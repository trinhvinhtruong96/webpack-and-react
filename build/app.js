"use strict";(self.webpackChunkwebpack_and_react=self.webpackChunkwebpack_and_react||[]).push([[143],{5346:(e,n,t)=>{var r=t(3379),o=t.n(r),i=t(7795),a=t.n(i),l=t(569),c=t.n(l),u=t(3565),s=t.n(u),d=t(9216),f=t.n(d),A=t(4589),m=t.n(A),b=t(6722),p={};p.styleTagTransform=m(),p.setAttributes=s(),p.insert=c().bind(null,"head"),p.domAPI=a(),p.insertStyleElement=f();o()(b.Z,p);b.Z&&b.Z.locals&&b.Z.locals;var C=t(7294),y=t(745),g=["value","onEdit","onValueClick","editing","onDelete"];function v(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}const h=function(e){var n=e.value,t=e.onEdit,r=e.onValueClick,o=e.editing,i=e.onDelete,a=v(e,g),l=function(e){var n=e.target.value;t&&t(n)},c=function(e){"Enter"===e.key&&l(e)};return C.createElement("div",a,o?C.createElement("input",{type:"text",ref:function(e){e&&(e.selectionStart=n.length)},autoFocus:!0,defaultValue:n,onBlur:l,onKeyDown:c}):C.createElement("div",{onClick:r},C.createElement("span",{className:"value"},n),i?C.createElement("button",{onClick:i,className:"delete"},"x"):null))};var B=t(6487),k=t(994);const E="note";var S=["id","onMove","editing"];function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function j(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}const I=function(e){var n=e.id,t=e.onMove,r=e.editing,o=j(e,S),i=O((0,B.c)((function(){return{type:E,item:{id:n},collect:function(e){return{isDragging:!!e.isDragging()}}}})),2),a=(i[0].isDragging,i[1]),l=O((0,k.L)((function(){return{accept:E,drop:function(e){t({sourceId:e.id,targetId:n})},collect:function(e){return{isOver:!!e.isOver()}}}}),[]),2),c=(l[0].isOver,l[1]);return C.createElement("div",{ref:c},C.createElement("div",{ref:r?void 0:a},C.createElement("li",o,o.children)))};var x=t(4554),N=t.n(x),P=t(4355),D=t.n(P),Z=new(N());D()(Z);const T=Z,L=T.generateActions("create","update","delete","attachToLane","detachFromLane","move"),Y=function(e){var n=e.notes,t=e.onEdit,r=e.onDelete,o=e.onValueClick;return C.createElement("ul",{className:"notes"},n.map((function(e){return C.createElement(I,{className:"note",id:e.id,key:e.id,editing:e.editing,onMove:L.move},C.createElement(h,{editing:e.editing,value:e.task,onValueClick:function(){return o(e.id)},onEdit:function(n){return t(e.id,n)},onDelete:function(n){return r(e.id,n)}}))})))},V=T.generateActions("create","update","delete");var W=t(4586);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function U(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,n){if("object"!==M(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(o,"string"),"symbol"===M(i)?i:String(i)),r)}var o,i}var z=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindActions(V),this.notes=[],this.exportPublicMethods({getNotesByIds:this.getNotesByIds.bind(this)})}var n,t,r;return n=e,(t=[{key:"create",value:function(e){var n=this.notes;return e.id=(0,W.Z)(),this.setState({notes:n.concat(e)}),e}},{key:"update",value:function(e){var n=this.notes.map((function(n){return n.id===e.id?Object.assign({},n,e):n}));this.setState({notes:n})}},{key:"delete",value:function(e){this.setState({notes:this.notes.filter((function(n){return n.id!==e}))})}},{key:"getNotesByIds",value:function(e){var n=this;return(e||[]).map((function(e){return n.notes.filter((function(n){return n.id===e}))})).filter((function(e){return e.length})).map((function(e){return e[0]}))}}])&&U(n.prototype,t),r&&U(n,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();const F=T.createStore(z,"NoteStore");var q=t(4015),_=t.n(q),$=["lane"];function J(){return J=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},J.apply(this,arguments)}function X(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return K(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return K(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function R(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}const G=function(e){var n=e.lane,t=R(e,$),r=X((0,k.L)((function(){return{accept:E,drop:function(e){n.notes.length||L.attachToLane({laneId:n.id,noteId:e.id})},collect:function(e){return{isOver:!!e.isOver()}}}}),[]),2),o=(r[0].isOver,r[1]);return C.createElement("div",J({},t,{ref:o}),C.createElement("div",{className:"lane-header",onClick:function(){var e=n.id;L.update({id:e,editing:!0})}},C.createElement("div",{className:"lane-add-note"},C.createElement("button",{onClick:function(){var e=n.id,t=V.create({task:"New task"});L.attachToLane({noteId:t.id,laneId:e})}},"+")),C.createElement(h,{className:"lane-name",editing:n.editing,value:n.name,onEdit:function(e){var t=n.id;e.trim()?L.update({id:t,name:e,editing:!1}):L.update({id:t,editing:!1})}}),C.createElement("div",{className:"lane-delete"},C.createElement("button",{onClick:function(){var e=n.id;L.delete(e)}},"x"))),C.createElement(_(),{stores:[F],inject:{notes:function(){return F.getNotesByIds(n.notes)}}},C.createElement(Y,{onEdit:function(e,n){n.trim()?V.update({id:e,task:n,editing:!1}):V.update({id:e,editing:!1})},onDelete:function(e,t){t.stopPropagation();var r=n.id;L.detachFromLane({laneId:r,noteId:e}),V.delete(e)},onValueClick:function(e){V.update({id:e,editing:!0})}})))},H=function(e){var n=e.lanes;return C.createElement("div",{className:"lanes"},n.map((function(e){return C.createElement(G,{className:"lane",key:e.id,lane:e})})))};var Q=t(9766),ee=t.n(Q);function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function te(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,n){if("object"!==ne(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(o,"string"),"symbol"===ne(i)?i:String(i)),r)}var o,i}var re=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindActions(L),this.lanes=[]}var n,t,r;return n=e,(t=[{key:"create",value:function(e){var n=this.lanes;e.id=(0,W.Z)(),e.notes=e.notes||[],this.setState({lanes:n.concat(e)})}},{key:"update",value:function(e){var n=this.lanes.map((function(n){return n.id===e.id?Object.assign({},n,e):n}));this.setState({lanes:n})}},{key:"delete",value:function(e){this.setState({lanes:this.lanes.filter((function(n){return n.id!==e}))})}},{key:"attachToLane",value:function(e){var n=e.laneId,t=e.noteId,r=this.lanes.map((function(e){return e.notes.includes(t)&&(e.notes=e.notes.filter((function(e){return e!==t}))),e.id===n&&(e.notes.includes(t)?console.warn("Already attached note to lane",r):e.notes.push(t)),e}));this.setState({lanes:r})}},{key:"detachFromLane",value:function(e){var n=e.laneId,t=e.noteId,r=this.lanes.map((function(e){return e.id===n&&(e.notes=e.notes.filter((function(e){return e!==t}))),e}));this.setState({lanes:r})}},{key:"move",value:function(e){var n=e.sourceId,t=e.targetId,r=this.lanes,o=r.filter((function(e){return e.notes.includes(n)}))[0],i=r.filter((function(e){return e.notes.includes(t)}))[0],a=o.notes.indexOf(n),l=i.notes.indexOf(t);o===i?o.notes=ee()(o.notes,{$splice:[[a,1],[l,0,n]]}):(o.notes.splice(a,1),i.notes.splice(l,0,n)),this.setState({lanes:r})}}])&&te(n.prototype,t),r&&te(n,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();const oe=T.createStore(re,"LaneStore");var ie=t(1261),ae=t(7384);const le=function(){return C.createElement(ie.W,{backend:ae.PD},C.createElement("div",null,C.createElement("button",{className:"add-notes",onClick:function(){L.create({name:"New lane"})}},"+"),C.createElement(_(),{stores:[oe],inject:{lanes:function(){return oe.getState().lanes}}},C.createElement(H,null))))},ce={get:function(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){return null}},set:function(e,n){localStorage.setItem(e,JSON.stringify(n))}};var ue=t(7681),se=t.n(ue);var de=document.getElementById("app"),fe=y.s(de);!function(e,n,t){var r=se()(e);try{e.bootstrap(n.get(t))}catch(e){console.error("Failed to bootstrap data",e)}r.listen((function(){n.get("debug")||n.set(t,e.takeSnapshot())}))}(T,ce,"app"),fe.render(C.createElement(le,null))},6722:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(7537),o=t.n(r),i=t(3645),a=t.n(i)()(o());a.push([e.id,"body {\n\tbackground: cornsilk;\n\tfont-family: sans-serif;\n}\n\n.add-note {\n\tbackground-color: #fdfdfd;\n\tborder: 1px solid #ccc;\n}\n\n.notes {\n\tmargin: 0.5em;\n\tpadding-left: 0;\n\tmax-width: 10em;\n\tlist-style: none;\n}\n\n.note {\n\tmargin-bottom: 0.5em;\n\tpadding: 0.5em;\n\tbackground-color: #fdfdfd;\n\tbox-shadow: 0 0 0.3em 0.03em rgba(0, 0, 0, 0.3);\n}\n\n.note:hover {\n\tbox-shadow: 0 0 0.3em 0.03em rgba(0, 0, 0, 0.7);\n\ttransition: 0.6s;\n}\n\n.note .task {\n\t/* force to use inline-block so that it gets minimum height */\n\tdisplay: inline-block;\n}\n\n.note .delete {\n\tfloat: right;\n\tpadding: 0;\n\tbackground-color: #fdfdfd;\n\tborder: none;\n\tcursor: pointer;\n\tvisibility: hidden;\n}\n\n.note:hover .delete {\n\tvisibility: visible;\n}\n\n.lane {\n\tdisplay: inline-block;\n\tmargin: 1em;\n\tbackground-color: #efefef;\n\tborder: 1px solid #ccc;\n\tborder-radius: 0.5em;\n\tmin-width: 10em;\n\tvertical-align: top;\n}\n\n.lane-header {\n\toverflow: auto;\n\tpadding: 1em;\n\tcolor: #efefef;\n\tbackground-color: #333;\n\tborder-top-left-radius: 0.5em;\n\tborder-top-right-radius: 0.5em;\n}\n\n.lane-name {\n\tfloat: left;\n}\n\n.lane-add-note {\n\tfloat: left;\n\tmargin-right: 0.5em;\n}\n\n.lane-delete {\n\tfloat: right;\n\tmargin-left: 0.5em;\n\tvisibility: hidden;\n}\n\n.lane-header:hover .lane-delete {\n\tvisibility: visible;\n}\n\n.add-lane,\n.lane-add-note button {\n\tcursor: pointer;\n\tbackground-color: #fdfdfd;\n\tborder: 1px solid #ccc;\n}\n\n.lane-delete button {\n\tpadding: 0;\n\tcursor: pointer;\n\tcolor: white;\n\tbackground-color: rgba(0, 0, 0, 0);\n\tborder: 0;\n}\n","",{version:3,sources:["webpack://./app/main.css"],names:[],mappings:"AAAA;CACC,oBAAoB;CACpB,uBAAuB;AACxB;;AAEA;CACC,yBAAyB;CACzB,sBAAsB;AACvB;;AAEA;CACC,aAAa;CACb,eAAe;CACf,eAAe;CACf,gBAAgB;AACjB;;AAEA;CACC,oBAAoB;CACpB,cAAc;CACd,yBAAyB;CACzB,+CAA+C;AAChD;;AAEA;CACC,+CAA+C;CAC/C,gBAAgB;AACjB;;AAEA;CACC,6DAA6D;CAC7D,qBAAqB;AACtB;;AAEA;CACC,YAAY;CACZ,UAAU;CACV,yBAAyB;CACzB,YAAY;CACZ,eAAe;CACf,kBAAkB;AACnB;;AAEA;CACC,mBAAmB;AACpB;;AAEA;CACC,qBAAqB;CACrB,WAAW;CACX,yBAAyB;CACzB,sBAAsB;CACtB,oBAAoB;CACpB,eAAe;CACf,mBAAmB;AACpB;;AAEA;CACC,cAAc;CACd,YAAY;CACZ,cAAc;CACd,sBAAsB;CACtB,6BAA6B;CAC7B,8BAA8B;AAC/B;;AAEA;CACC,WAAW;AACZ;;AAEA;CACC,WAAW;CACX,mBAAmB;AACpB;;AAEA;CACC,YAAY;CACZ,kBAAkB;CAClB,kBAAkB;AACnB;;AAEA;CACC,mBAAmB;AACpB;;AAEA;;CAEC,eAAe;CACf,yBAAyB;CACzB,sBAAsB;AACvB;;AAEA;CACC,UAAU;CACV,eAAe;CACf,YAAY;CACZ,kCAAkC;CAClC,SAAS;AACV",sourcesContent:["body {\n\tbackground: cornsilk;\n\tfont-family: sans-serif;\n}\n\n.add-note {\n\tbackground-color: #fdfdfd;\n\tborder: 1px solid #ccc;\n}\n\n.notes {\n\tmargin: 0.5em;\n\tpadding-left: 0;\n\tmax-width: 10em;\n\tlist-style: none;\n}\n\n.note {\n\tmargin-bottom: 0.5em;\n\tpadding: 0.5em;\n\tbackground-color: #fdfdfd;\n\tbox-shadow: 0 0 0.3em 0.03em rgba(0, 0, 0, 0.3);\n}\n\n.note:hover {\n\tbox-shadow: 0 0 0.3em 0.03em rgba(0, 0, 0, 0.7);\n\ttransition: 0.6s;\n}\n\n.note .task {\n\t/* force to use inline-block so that it gets minimum height */\n\tdisplay: inline-block;\n}\n\n.note .delete {\n\tfloat: right;\n\tpadding: 0;\n\tbackground-color: #fdfdfd;\n\tborder: none;\n\tcursor: pointer;\n\tvisibility: hidden;\n}\n\n.note:hover .delete {\n\tvisibility: visible;\n}\n\n.lane {\n\tdisplay: inline-block;\n\tmargin: 1em;\n\tbackground-color: #efefef;\n\tborder: 1px solid #ccc;\n\tborder-radius: 0.5em;\n\tmin-width: 10em;\n\tvertical-align: top;\n}\n\n.lane-header {\n\toverflow: auto;\n\tpadding: 1em;\n\tcolor: #efefef;\n\tbackground-color: #333;\n\tborder-top-left-radius: 0.5em;\n\tborder-top-right-radius: 0.5em;\n}\n\n.lane-name {\n\tfloat: left;\n}\n\n.lane-add-note {\n\tfloat: left;\n\tmargin-right: 0.5em;\n}\n\n.lane-delete {\n\tfloat: right;\n\tmargin-left: 0.5em;\n\tvisibility: hidden;\n}\n\n.lane-header:hover .lane-delete {\n\tvisibility: visible;\n}\n\n.add-lane,\n.lane-add-note button {\n\tcursor: pointer;\n\tbackground-color: #fdfdfd;\n\tborder: 1px solid #ccc;\n}\n\n.lane-delete button {\n\tpadding: 0;\n\tcursor: pointer;\n\tcolor: white;\n\tbackground-color: rgba(0, 0, 0, 0);\n\tborder: 0;\n}\n"],sourceRoot:""}]);const l=a}},e=>{e.O(0,[714,32],(()=>{return n=5346,e(e.s=n);var n}));e.O()}]);
//# sourceMappingURL=app.js.map